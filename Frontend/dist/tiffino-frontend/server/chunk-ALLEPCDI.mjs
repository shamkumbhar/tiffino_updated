import './polyfills.server.mjs';
import{a as N}from"./chunk-2HUTYAFE.mjs";import{b as I,c as h,d as z,e as T,g as F,j,m as A,r as V,t as G}from"./chunk-2653JG64.mjs";import{a as E,c as S,d as L,f as k}from"./chunk-EOLPFJSD.mjs";import"./chunk-K3SPIBLB.mjs";import{La as c,Na as l,Qa as e,Ra as t,Rb as O,Sa as s,Ta as w,Tb as y,Ua as x,V as b,Va as m,Za as r,_a as M,ba as _,ca as C,da as u,ea as f,gb as P,xa as a,ya as g}from"./chunk-D4DS7FIH.mjs";import"./chunk-FME56UVT.mjs";function q(n,d){n&1&&(e(0,"div",29),s(1,"img",30),e(2,"p"),r(3,"Login Successful!"),t()())}function R(n,d){n&1&&(e(0,"p"),r(1,"Email is required"),t())}function B(n,d){n&1&&(e(0,"p"),r(1,"Enter a valid email"),t())}function D(n,d){n&1&&(e(0,"p"),r(1,"Email already exists."),t())}function H(n,d){if(n&1&&(e(0,"div",31),c(1,R,2,0,"p",32)(2,B,2,0,"p",32)(3,D,2,0,"p",32),t()),n&2){let i=m();a(),l("ngIf",i.f.Email.errors==null?null:i.f.Email.errors.required),a(),l("ngIf",i.f.Email.errors==null?null:i.f.Email.errors.email),a(),l("ngIf",i.f.Email.errors==null?null:i.f.Email.errors.emailExists)}}function U(n,d){n&1&&(e(0,"p"),r(1,"Password is required"),t())}function W(n,d){if(n&1&&(e(0,"div",31),c(1,U,2,0,"p",32),t()),n&2){let i=m();a(),l("ngIf",i.f.password.errors==null?null:i.f.password.errors.required)}}function Z(n,d){n&1&&(e(0,"div",33),s(1,"div",34),t())}function J(n,d){if(n&1){let i=w();e(0,"div",35)(1,"div",36)(2,"div",37),u(),e(3,"svg",38),s(4,"path",39),t()(),f(),e(5,"h4"),r(6,"Login Failed"),t(),e(7,"p"),r(8),t(),e(9,"button",40),x("click",function(){_(i);let o=m();return C(o.showErrorPopup=!1)}),r(10,"Close"),t()()()}if(n&2){let i=m();a(8),M(i.errorMessage)}}var ie=(()=>{class n{constructor(i,p,o,v){this.fb=i,this.registerservice=p,this.router=o,this.activated=v,this.returnurl="",this.errorMessage="",this.showErrorPopup=!1,this.isLoading=!1,this.showpopup=!1}ngOnInit(){this.loginForm=this.fb.group({Email:["",[h.required,h.email]],password:["",h.required]}),this.returnurl=this.activated.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){if(this.errorMessage="",this.showErrorPopup=!1,this.loginForm.valid){let i=this.loginForm.value,p={email:i.Email,password:i.password};this.isLoading=!0,this.registerservice.login(p).subscribe({next:o=>{this.data=o,console.log(o),this.isLoading=!1,this.showpopup=!0,setTimeout(()=>{this.showpopup=!1,this.router.navigate(["/"])},3e3)},error:o=>{this.isLoading=!1,this.errorMessage=o?.error?.message||"Login failed Please Try Again",this.showErrorPopup=!0,console.log(o)}})}this.loginForm.reset()}static{this.\u0275fac=function(p){return new(p||n)(g(V),g(N),g(S),g(E))}}static{this.\u0275cmp=b({type:n,selectors:[["app-login"]],standalone:!0,features:[P],decls:41,vars:7,consts:[[1,"back"],[1,"login-wrapper"],[1,"login-image"],["src","https://thumbs.dreamstime.com/b/sign-page-abstract-concept-vector-illustration-enter-application-mobile-screen-user-login-form-website-interface-ui-new-profile-198851755.jpg","alt","Login Illustration"],[1,"login-container"],[1,"logi"],[3,"ngSubmit","formGroup"],["class","login-success",4,"ngIf"],["class","error",4,"ngIf"],[1,"phone-input-group","mb-3","mt-1"],[1,"country-code"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"],["type","email","formControlName","Email","placeholder","Email Address"],[1,"phonenum-input-group","mb-3","mt-1"],[1,"countrynum-code"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lock"],["fill-rule","evenodd","d","M8 0a4 4 0 0 1 4 4v2.05a2.5 2.5 0 0 1 2 2.45v5a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 13.5v-5a2.5 2.5 0 0 1 2-2.45V4a4 4 0 0 1 4-4M4.5 7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7zM8 1a3 3 0 0 0-3 3v2h6V4a3 3 0 0 0-3-3"],["type","password","formControlName","password","placeholder","Enter password"],["routerLink","/changepassword"],["type","submit",3,"disabled"],[1,"divider"],["data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@mdo",1,"auth-btn","email-auth"],[1,"google-signin-btn"],["src","./assets/icons8.png","alt","Google","width","20"],[1,"signup-prompt"],["routerLink","/register"],["class","spinner-overlay",4,"ngIf"],["class","error-overlay",4,"ngIf"],[1,"login-success"],["src","assets/images/check.png","alt","imgsri",2,"width","40px","height","40px"],[1,"error"],[4,"ngIf"],[1,"spinner-overlay"],[1,"spinner"],[1,"error-overlay"],[1,"error-card"],[1,"error-icon"],["xmlns","http://www.w3.org/2000/svg","width","40","height","40","fill","red","viewBox","0 0 16 16",1,"bi","bi-x-circle"],["d","M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"btn","btn-danger","w-25","mt-3",3,"click"]],template:function(p,o){p&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),s(3,"img",3),t(),e(4,"div",4)(5,"h2",5),r(6,"Login"),t(),e(7,"form",6),x("ngSubmit",function(){return o.onSubmit()}),c(8,q,4,0,"div",7)(9,H,4,3,"div",8),e(10,"div",9)(11,"div",10),u(),e(12,"svg",11),s(13,"path",12),t(),f(),s(14,"input",13),t()(),c(15,W,2,1,"div",8),e(16,"div",14)(17,"div",15),u(),e(18,"svg",16),s(19,"path",17),t(),f(),s(20,"input",18),t()(),e(21,"a",19),r(22,"ForgotPassword"),t(),e(23,"button",20),r(24,"Continue"),t()(),e(25,"div",21)(26,"span"),r(27,"Or"),t()(),e(28,"button",22),r(29,"Continue with PhoneNumber"),t(),e(30,"button",23),s(31,"img",24),r(32," Continue with Google "),t(),e(33,"div",25)(34,"h5"),r(35,"New to Tiffino?"),t(),e(36,"h5")(37,"a",26),r(38,"Create Account"),t()()()()()(),c(39,Z,2,0,"div",27)(40,J,11,1,"div",28)),p&2&&(a(7),l("formGroup",o.loginForm),a(),l("ngIf",o.showpopup),a(),l("ngIf",o.f.Email.touched&&o.f.Email.invalid),a(6),l("ngIf",o.f.password.touched&&o.f.password.invalid),a(8),l("disabled",!o.loginForm.valid),a(16),l("ngIf",o.isLoading),a(),l("ngIf",o.showErrorPopup))},dependencies:[y,O,G,F,I,z,T,j,A,k,L],styles:['.login-wrapper[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:40px auto 100px;background:linear-gradient(135deg,#fdfbfb,#ebedee);border-radius:12px;box-shadow:0 6px 24px #00000014;overflow:hidden}.login-image[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.login-container[_ngcontent-%COMP%]{flex:1;padding:40px;font-family:Segoe UI,sans-serif;background:#fff}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;color:#e23744;margin-bottom:20px;text-align:center}.phone-input-group[_ngcontent-%COMP%], .phonenum-input-group[_ngcontent-%COMP%]{display:flex;align-items:stretch;border:1px solid #ccc;border-radius:8px;overflow:hidden;max-width:100%}.country-code[_ngcontent-%COMP%], .countrynum-code[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#f9f9f9;padding:0 12px;gap:8px;width:100%}.phone-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .phonenum-input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:14px 12px;font-size:15px;flex:1;outline:none;background:transparent}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red;font-size:13px;margin:0 0 6px 4px}button[_ngcontent-%COMP%]{width:100%;padding:14px;background-color:#e23744;color:#fff;border:none;border-radius:8px;font-weight:600;font-size:16px;margin-top:15px;cursor:pointer;transition:.3s ease}button[_ngcontent-%COMP%]:disabled{background-color:#fca5ab;cursor:not-allowed}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:center;color:#777;font-size:14px;margin:24px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:2px solid #181616}.divider[_ngcontent-%COMP%]:not(:empty):before{margin-right:12px}.divider[_ngcontent-%COMP%]:not(:empty):after{margin-left:12px}.auth-btn[_ngcontent-%COMP%], .google-signin-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;width:100%;padding:12px 16px;font-size:15px;font-weight:500;border-radius:8px;cursor:pointer;transition:background-color .3s ease;margin-top:12px}.auth-btn[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:1px solid #ddd}.auth-btn[_ngcontent-%COMP%]:hover{background-color:#c31616}.google-signin-btn[_ngcontent-%COMP%]{background-color:#fff;color:#444;border:1px solid #ddd;box-shadow:0 2px 4px #0000000f}.google-signin-btn[_ngcontent-%COMP%]:hover{background-color:#0a0b0c;color:#fff}.signup-prompt[_ngcontent-%COMP%]{text-align:center;margin-top:24px;font-size:14px}.signup-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e23744;text-decoration:none;font-weight:600}.signup-prompt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.back[_ngcontent-%COMP%]{background-image:url(https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSV626dapoOfdh9DwzqOmITjUG9v-zBW9Zozw&s);background-repeat:no-repeat;background-size:cover;background-position:center;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}[_nghost-%COMP%]{display:block;height:100vh}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}@media (max-width: 768px){.login-wrapper[_ngcontent-%COMP%]{flex-direction:column}.login-image[_ngcontent-%COMP%]{height:200px}.login-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:0}}.login-success[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#e8f5e9;color:#2e7d32;padding:15px 20px;border-radius:8px;font-family:Arial,sans-serif;font-size:18px;box-shadow:0 2px 8px #0000001a;margin-top:20px;margin-right:30px}.tick-icon[_ngcontent-%COMP%]{margin-right:10px}.error-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0909096b;display:flex;justify-content:center;align-items:center;z-index:1000}.error-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;box-shadow:0 0 12px #00000040;text-align:center;max-width:500px;width:90%}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1e1e99;display:flex;justify-content:center;align-items:center;z-index:999}.spinner[_ngcontent-%COMP%]{width:60px;height:60px;border:6px solid #ccccccc4;border-top-color:#0616cc;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}']})}}return n})();export{ie as LoginComponent};
